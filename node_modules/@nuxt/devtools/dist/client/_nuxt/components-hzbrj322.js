import{a as ie,_ as q,R as pe,S as re,K as ue,T as de,g as Z,U as me,V as ce,W as fe,O as ve,X as _e,Y as he,H as be,f as ge}from"./g3h63aw5.js";import{U as o,W as d,X as n,p as I,q as P,a9 as j,a8 as E,a3 as u,u as $,P as y,Z as w,F as T,ae as M,Y as H,f as U,m as ye,z as we,j as xe,a2 as f,A as z,V as ke,a0 as Ce,a4 as W,ag as $e,ad as Ne,aa as K}from"./vendor/json-editor-vue-npezbdce.js";import{_ as Ve}from"./help-fab.vue-lv824f8h.js";import{_ as Pe}from"./ncheckbox.vue-ebn9fsvc.js";import{_ as J}from"./nnavbar.vue-c3um92xe.js";import{p as Q}from"./index-obsucz0g.js";import{_ as ee}from"./nbadge-inu2cbym.js";import{_ as ne}from"./filepath-item.vue-i51hnv27.js";import{_ as Se}from"./ndrawer.vue-nv73yu3i.js";import{N as De}from"./vendor/vis-fzckz0r6.js";import{_ as Te}from"./nselect-tabs.vue-kmg7oqpq.js";import{_ as Be}from"./nsection-block-jrje44xx.js";import{_ as Le}from"./nicon-title.vue-j1ceohu1.js";import{D as X}from"./constants-b32h69zq.js";import{u as Me,a as Ue}from"./state-components-hvnej0jk.js";import"./vendor/unocss-hjqyvvq7.js";import"./vendor/shiki-ian6uf3s.js";const Ie={class:"markdown-body"},Fe={__name:"components",setup(V,{expose:s}){return s({frontmatter:{}}),(i,c)=>(o(),d("div",Ie,c[0]||(c[0]=[n("h1",null,"Components",-1),n("p",null,"Vue Components allow us to split the UI into independent and reusable pieces, and think about each piece in isolation. This is very similar to how we nest native HTML elements, but Vue implements its own component model that allow us to encapsulate custom content and logic in each component.",-1),n("p",null,"Components placed in the components/ directory are automatically registered by Nuxt. They can be used in your templates without importing them.",-1),n("p",null,[n("a",{href:"https://nuxt.com/docs/guide/directory-structure/components",target:"_blank",rel:"noopener"},"Learn more in the documentation")],-1)])))}},Ge={"text-sm":"","font-mono":""},oe=I({__name:"ComponentName",props:{component:{}},setup(V){const s=V,v=P(()=>s.component.pascalName||Q(s.component.name||s.component.__name||s.component.kebabName||""));return(i,c)=>(o(),d("code",Ge,[c[0]||(c[0]=n("span",{mr1:"",op20:""},"<",-1)),j(E(v.value),1),c[1]||(c[1]=n("span",{ml1:"",op20:""},"/>",-1))]))}}),Re={flex:"~ col gap1","items-start":"","of-hidden":""},ze={flex:"~ gap2",px3:""},Ae={px3:"",pb2:""},We={key:0,border:"t base","max-h-60":"","w-full":"","of-auto":"",px3:"",py3:""},Ee={"text-sm":""},He={"text-primary":""},Oe={key:0,flex:"~ col gap-2","items-start":"",pt3:"","text-sm":"",op75:""},Xe={key:1,border:"t base","max-h-60":"","w-full":"","of-auto":"",px3:"",py3:""},je={"text-sm":""},qe={"text-primary":""},Ye={key:0,flex:"~ col gap-2","items-start":"",pt3:"","text-sm":"",op75:""},te=I({__name:"ComponentDetails",props:{component:{},dependencies:{},dependents:{}},setup(V){const s=V,v=P(()=>s.component.pascalName||Q(s.component.name||s.component.__name||s.component.kebabName||"")),i=P(()=>s.component.filePath||s.component.file||s.component.__file||""),c=ie();return(l,a)=>{const h=oe,r=q,b=ee,x=ne;return o(),d("div",Re,[n("div",ze,[u(h,{component:l.component},null,8,["component"]),u(r,{title:"Copy name","flex-none":"",icon:"carbon-copy",border:!1,onClick:a[0]||(a[0]=m=>$(c)(`<${v.value}></${v.value}>`,"component-name"))}),l.component.global?(o(),y(b,{key:0,n:"green",title:"Registered at runtime as a global component",textContent:"runtime"})):w("",!0)]),n("div",Ae,[i.value?(o(),y(x,{key:0,filepath:i.value,"w-full":"","text-sm":"",op40:"","group-hover:op75":""},null,8,["filepath"])):w("",!0)]),l.dependents?(o(),d("div",We,[n("div",Ee,[n("strong",He,E(l.dependents.length),1),a[1]||(a[1]=n("span",{op50:""}," references",-1))]),l.dependents.length?(o(),d("div",Oe,[(o(!0),d(T,null,M(l.dependents,m=>(o(),y(x,{key:m,filepath:m},null,8,["filepath"]))),128))])):w("",!0)])):w("",!0),l.dependencies?(o(),d("div",Xe,[n("div",je,[n("strong",qe,E(l.dependencies.length),1),a[2]||(a[2]=n("span",{op50:""}," dependencies",-1))]),l.dependencies.length?(o(),d("div",Ye,[(o(!0),d(T,null,M(l.dependencies,m=>(o(),y(x,{key:m,filepath:m},null,8,["filepath"]))),128))])):w("",!0)])):w("",!0),H(l.$slots,"default")])}}}),Ke={flex:"~ gap-x-3 gap-y-1 wrap","w-full":""},Ze={relative:"","h-full":"","w-full":""},Je={key:0,py4:"",pt4:"",flex:"~ col"},Qe={border:"t base",p4:""},en=I({__name:"ComponentsGraph",props:{components:{},relationships:{}},setup(V){const s=V,v=U(),i=U(),c=pe(),l=ye(),a=re(),h=ue(),r=de(),{componentsGraphShowNodeModules:b,componentsGraphShowGlobalComponents:x,componentsGraphShowPages:m,componentsGraphShowLayouts:N,componentsGraphShowWorkspace:_}=Z("ui"),k=U(),p=U(""),F=me(p,300),G=P(()=>{const S=s.relationships||[];if(k.value){let e=function(C){!C||t.has(C)||(t.add(C),C.deps.forEach(B=>{e(S.find(L=>L.id===B))}))};const t=new Set;return e(k.value),Array.from(t)}return S}),A=P(()=>{const S=G.value.map(t=>{const C=s.components.find(R=>R.filePath===t.id),B=a.value?.find(R=>R.file===t.id),L=r.value?.find(R=>R.file===t.id),O=t.id.replace(/\?.*$/,"").replace(/#.*$/,""),D=t.id.includes("/node_modules/")?"lib":C?C.global?"global":"user":L?"layout":B?"page":"unknown";if(!b.value&&D==="lib"||!m.value&&D==="page"||!N.value&&D==="layout"||!_.value&&D==="user"&&h.value&&!t.id.startsWith(h.value.rootDir)||!x.value&&D==="global")return null;const g=D==="layout"?"hexagon":D==="page"?"square":"dot",Y=F.value&&!t.id.toLowerCase().includes(F.value.toLowerCase());return{id:t.id,label:O.split("/").splice(-1)[0].replace(/\.\w+$/,""),group:D,shape:g,size:15+Math.min(t.deps.length/2,8),font:{color:Y?"#8885":c.value==="dark"?"white":"black"},color:Y?"#8885":k.value?.id===t.id?"#82c742":void 0,extra:{id:t.id,component:C,page:B,layout:L,relationship:t}}}).filter(t=>!!t),e=G.value.flatMap(t=>t.deps.map(C=>({from:t.id,to:C,arrows:{to:{enabled:!0,scaleFactor:.8}}})));return{nodes:S,edges:e}}),se=P(()=>l.value?.component?s.relationships?.find(e=>e.id===l.value?.component?.filePath)?.deps?.map(e=>s.relationships?.find(t=>t.id===e)?.id).filter(Boolean):[]),le=P(()=>l.value?.component?s.relationships?.filter(e=>e.deps.includes(l.value.component.filePath))?.map(e=>s.relationships?.find(t=>t.id===e.id)?.id).filter(Boolean):[]);we(()=>{const S={nodes:{shape:"dot",size:16},physics:{repulsion:{centralGravity:.7,springLength:100,springConstant:.01},maxVelocity:146,solver:"forceAtlas2Based",timestep:.35,stabilization:{enabled:!0,iterations:200}},groups:{user:{color:"#42b883"},unknown:{color:"#b86542"},lib:{color:"#b4b842"},page:{color:"#42b2b8"},layout:{color:"#4256b8"}}},e=new De(v.value,A.value,S);e.on("click",t=>{const C=t.nodes?.[0],B=A.value.nodes?.find(L=>L.id===C)?.extra;B&&(l.value=B)}),xe(A,()=>{e.setData(A.value)})});function ae(){k.value=l.value?.relationship,l.value=void 0}return(S,e)=>{const t=Pe,C=J,B=ce,L=te,O=q,D=Se;return o(),d(T,null,[u(C,{ref_key:"navbar",ref:i,search:p.value,"onUpdate:search":e[6]||(e[6]=g=>p.value=g),absolute:"","left-0":"","right-0":"","top-0":""},{actions:f(()=>[n("div",Ke,[u(t,{modelValue:$(m),"onUpdate:modelValue":e[0]||(e[0]=g=>z(m)?m.value=g:null),n:"primary sm"},{default:f(()=>e[9]||(e[9]=[n("span",{op75:""},"Show pages",-1)])),_:1},8,["modelValue"]),u(t,{modelValue:$(N),"onUpdate:modelValue":e[1]||(e[1]=g=>z(N)?N.value=g:null),n:"primary sm"},{default:f(()=>e[10]||(e[10]=[n("span",{op75:""},"Show layouts",-1)])),_:1},8,["modelValue"]),u(t,{modelValue:$(_),"onUpdate:modelValue":e[2]||(e[2]=g=>z(_)?_.value=g:null),n:"primary sm"},{default:f(()=>e[11]||(e[11]=[n("span",{op75:""},"Show workspace",-1)])),_:1},8,["modelValue"]),u(t,{modelValue:$(b),"onUpdate:modelValue":e[3]||(e[3]=g=>z(b)?b.value=g:null),n:"primary sm"},{default:f(()=>e[12]||(e[12]=[n("span",{op75:""},"Show node_modules",-1)])),_:1},8,["modelValue"]),u(t,{modelValue:$(x),"onUpdate:modelValue":e[4]||(e[4]=g=>z(x)?x.value=g:null),n:"primary sm"},{default:f(()=>e[13]||(e[13]=[n("span",{op75:""},"Show global components",-1)])),_:1},8,["modelValue"])]),k.value?(o(),d("button",{key:0,flex:"~ gap-1","flex-none":"","items-center":"","rounded-full":"","bg-gray:20":"",py1:"",pl3:"",pr2:"","text-xs":"",op50:"","hover:op100":"",onClick:e[5]||(e[5]=g=>k.value=void 0)},e[14]||(e[14]=[j(" Clear filter "),n("div",{"i-carbon-close":""},null,-1)]))):w("",!0),e[15]||(e[15]=n("div",{"flex-auto":""},null,-1)),H(S.$slots,"default")]),_:3},8,["search"]),n("div",Ze,[n("div",{ref_key:"container",ref:v,"h-full":"","w-full":""},null,512),u(B,{absolute:"","bottom-3":"","left-3":"","border-0":"",p2:"",px3:"","text-sm":"","n-glass-effect":""},{default:f(()=>e[16]||(e[16]=[n("div",{grid:"~ cols-[20px_1fr] items-center gap-y-1"},[n("div",{"h-3":"","w-3":"","rounded-full":"","bg-hex-42b883":""}),n("div",{op50:""}," Component "),n("div",{"h-3":"","w-3":"","rounded-full":"","bg-hex-97c2fc":""}),n("div",{op50:""}," Global Component "),n("div",{"h-3":"","w-3":"","bg-hex-42b2b8":""}),n("div",{op50:""}," Page "),n("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 726 628","ml--1px":"","h-3":""},[n("path",{fill:"#4256b8","stroke-width":"4",d:"M723 314 543 625.8H183L3 314 183 2.2h360L723 314z"})]),n("div",{op50:""}," Layout "),n("div",{"h-3":"","w-3":"","rounded-full":"","bg-hex-b4b842":""}),n("div",{op50:""}," Library Component "),n("div",{"h-3":"","w-3":"","rounded-full":"","bg-hex-b86542":""}),n("div",{op50:""}," Unknown ")],-1)])),_:1}),u(D,{"model-value":!!(l.value&&l.value.component),top:i.value,border:"t l base","w-80":"",onClose:e[8]||(e[8]=g=>l.value=void 0)},{default:f(()=>[l.value&&l.value.component?(o(),d("div",Je,[u(L,{component:l.value.component,dependencies:se.value,dependents:le.value},null,8,["component","dependencies","dependents"]),n("div",Qe,[u(O,{n:"primary solid",onClick:e[7]||(e[7]=g=>ae())},{default:f(()=>e[17]||(e[17]=[j(" Filter to this component ")])),_:1})])])):w("",!0)]),_:1},8,["model-value","top"])])],64)}}}),nn={hover:"bg-active",class:"group",flex:"~ gap2","w-full":"","items-center":"",rounded:"",px2:"",py1:""},on={key:0,"ml--1":"","text-primary":""},tn=I({__name:"ComponentItem",props:{component:{},dependencies:{},dependents:{}},setup(V){const s=V,v=P(()=>s.component.filePath||s.component.file||s.component.__file||"");return(i,c)=>{const l=oe,a=te,h=ke("VDropdown"),r=ee,b=ne;return o(),d("div",nn,[u(h,null,{popper:f(()=>[u(a,{component:i.component,dependencies:i.dependencies,dependents:i.dependents,"w-100":"",pt4:""},null,8,["component","dependencies","dependents"])]),default:f(()=>[n("button",{"hover:text-primary":"",class:Ce(i.dependents&&i.dependents.length===0?"op50":"")},[u(l,{component:i.component},null,8,["component"])],2)]),_:1}),i.dependents?.length?(o(),d("sup",on," x"+E(i.dependents?.length),1)):w("",!0),i.component.global?(o(),y(r,{key:1,n:"green",title:"Registered at runtime as a global component",textContent:"runtime"})):w("",!0),H(i.$slots,"default"),v.value?(o(),y(b,{key:2,filepath:v.value,"text-sm":"",op25:"","group-hover:op75":""},null,8,["filepath"])):w("",!0)])}}}),sn={flex:"~ gap-2 items-center"},ln={pl4:""},an=I({__name:"ComponentsList",props:{components:{},relationships:{}},setup(V){const s=V,v=U(""),i=U("all"),c=P(()=>{const h=s.components.map(r=>fe(r,s.relationships));return i.value==="using"?h.filter(r=>r.dependents?.length):i.value==="not-used"?h.filter(r=>!r.dependents?.length):h}),l=P(()=>new ve(c.value,{keys:["component.pascalName","component.filePath","component.kebabName"]})),a=P(()=>{const h=[],r=new Map,b=[],x=[],m={user:0,lib:0,builtin:0,runtime:0};return(v.value?l.value.search(v.value).map(_=>_.item):c.value).forEach(_=>{const k=_.component;if(k.filePath&&_e(k.filePath)){const p=he(k.filePath);if(!p)return;p==="nuxt"?(b.push(_),m.builtin++):(r.has(p)||r.set(p,[]),r.get(p).push(_),m.lib++)}else k.global&&!k.filePath?(x.push(_),m.runtime++):(h.push(_),m.user++)}),{count:m,user:h,builtin:b,lib:r,runtime:x}});return(h,r)=>{const b=be,x=Te,m=J,N=tn,_=Be,k=Le;return o(),d(T,null,[u(m,{search:v.value,"onUpdate:search":r[1]||(r[1]=p=>v.value=p),pb3:""},{actions:f(()=>[H(h.$slots,"default")]),default:f(()=>[n("div",sn,[u(b,{icon:"carbon-filter",op50:""}),u(x,{modelValue:i.value,"onUpdate:modelValue":r[0]||(r[0]=p=>i.value=p),n:"primary sm",options:[{label:"All",value:"all"},{label:"Using",value:"using"},{label:"Not used",value:"not-used"}]},null,8,["modelValue"])])]),_:3},8,["search"]),a.value.user.length?(o(),y(_,{key:0,icon:"carbon-nominal",text:"User components",open:a.value.user.length<=$(X),description:`Total components: ${a.value.count.user}`},{default:f(()=>[(o(!0),d(T,null,M(a.value.user,p=>(o(),y(N,W({key:p.component.filePath,ref_for:!0},p),null,16))),128))]),_:1},8,["open","description"])):w("",!0),a.value.runtime.length?(o(),y(_,{key:1,icon:"carbon-load-balancer-global",open:a.value.runtime.length<=$(X),text:"Runtime components",description:`Total components: ${a.value.count.runtime}`},{default:f(()=>[(o(!0),d(T,null,M(a.value.runtime,p=>(o(),y(N,W({key:p.component.filePath,ref_for:!0},p),null,16))),128))]),_:1},8,["open","description"])):w("",!0),a.value.builtin.length?(o(),y(_,{key:2,icon:"simple-icons-nuxtdotjs",text:"Built-in components",description:`Total components: ${a.value.count.builtin}`},{default:f(()=>[(o(!0),d(T,null,M(a.value.builtin,p=>(o(),y(N,W({key:p.component.filePath,ref_for:!0},p),null,16))),128))]),_:1},8,["description"])):w("",!0),a.value.lib.size?(o(),y(_,{key:3,open:a.value.count.lib<=$(X),icon:"carbon-3d-mpr-toggle",text:"Components from libraries",description:`${a.value.count.lib} components from ${a.value.lib.size} packages`},{default:f(()=>[(o(!0),d(T,null,M(a.value.lib.entries(),([p,F])=>(o(),d("div",{key:p,"ml-2":""},[u(k,{text:`${p} (${F.length})`,py1:"",op50:""},null,8,["text"]),n("div",ln,[(o(!0),d(T,null,M(F,G=>(o(),y(N,W({key:G.component.filePath,ref_for:!0},G),null,16))),128))])]))),128))]),_:1},8,["open","description"])):w("",!0)],64)}}}),pn={relative:"","h-full":"","of-auto":""},rn={"flex-none":"",flex:"~ gap3"},Vn=I({__name:"components",setup(V){const s=ge(),v=Me(),i=Ue(),{componentsView:c}=Z("ui");function l(){s.value?.inspector?.instance&&s.value.inspector.enable()}function a(){c.value=c.value==="list"?"graph":"list"}return(h,r)=>{const b=q,x=Fe,m=Ve,N=$e("tooltip");return o(),d(T,null,[n("div",pn,[(o(),y(Ne($(c)==="list"?an:en),{components:$(v),relationships:$(i)},{default:f(()=>[n("div",rn,[K(u(b,{"text-lg":"",border:!1,icon:$(c)==="graph"?"i-carbon-list":"i-carbon-network-4",title:"Toggle view",onClick:a},null,8,["icon"]),[[N,"Toggle View",void 0,{"bottom-end":!0}]]),$(s)?.inspector?.instance?K((o(),y(b,{key:0,"text-lg":"",border:!1,icon:"i-tabler-focus-2",title:"Inspect Vue components",onClick:l},null,512)),[[N,"Inspect Vue components",void 0,{"bottom-end":!0}]]):w("",!0)])]),_:1},8,["components","relationships"]))]),u(m,null,{default:f(()=>[u(x)]),_:1})],64)}}});export{Vn as default};
