import{_ as W}from"./nselect.vue-otkv89hb.js";import{u as A,c as E,a as F,_ as q}from"./g3h63aw5.js";import{_ as z}from"./nswitch.vue-l8xqfho0.js";import{_ as J}from"./ndropdown.vue-f8fjs48r.js";import{_ as O}from"./ncode-block.vue-msaaoy71.js";import{_ as P}from"./ndrawer.vue-nv73yu3i.js";import{A as h,d as x}from"./vendor/quicktype-core-i8ym98gu.js";import{p as X,f as k,q as N,j as C,U as n,P as c,a3 as m,a2 as r,X as i,W as d,F as D,ae as j,u as f,a8 as b,Z as _,ac as Z}from"./vendor/json-editor-vue-npezbdce.js";import"./vendor/unocss-hjqyvvq7.js";import"./vendor/shiki-ian6uf3s.js";import"./client-edufhzwa.js";const G={border:"b base",flex:"~ items-center gap-2",sticky:"","left-0":"","right-0":"","top-0":"","z-1":"",p3:"","bg-base":""},H={key:0,flex:"~ items-center justify-center",absolute:"","bottom--1":"","right--2":"","h-4":"","w-4":"","rounded-full":"","bg-lime:30":"","text-8px":""},K={flex:"~ col","w-100":"","of-auto":"",py2:""},M={"text-xs":"",capitalize:"",op75:""},ie=X({__name:"DataSchemaDrawer",setup(Q){const s=A(),V=k(0),l=k("TypeScript"),v=N(()=>h.all.find(e=>e.displayName===l.value)),o=k(v.value?.optionDefinitions.filter(e=>typeof e.defaultValue=="boolean")),y=E(async()=>{if(V.value,!s.value)return"";const e=x.jsonInputForTargetLanguage(l.value);await e.addSource({name:s.value.name??"Data",samples:[s.value.input]});const t=new x.InputData;return t.addInput(e),(await x.quicktype({inputData:t,lang:l.value,rendererOptions:o.value?.reduce((u,p)=>(u[p.name]=p.defaultValue,u),{})})).lines.join(`
`)}),S=N(()=>{const e=l.value.toLocaleLowerCase();return e.startsWith("javascript")?"javascript":e.startsWith("json")?"json":e.startsWith("typescript")?"typescript":e});C(o,()=>{V.value++},{deep:!0}),C(l,()=>{o.value=v.value?.optionDefinitions.filter(e=>typeof e.defaultValue=="boolean")});const $=F();function B(){$(y.value||"")}return(e,t)=>{const w=W,u=q,p=z,L=J,I=O,T=P;return v.value?(n(),c(Z,{key:0,to:"body"},[m(T,{"model-value":!!f(s)?.input,"auto-close":"","max-w-screen":"","w-2xl":"","n-code-block":"",onClose:t[2]||(t[2]=a=>s.value=null)},{default:r(()=>[i("div",G,[t[3]||(t[3]=i("p",{"mr-2":""}," Schema ",-1)),m(w,{modelValue:l.value,"onUpdate:modelValue":t[0]||(t[0]=a=>l.value=a),n:"xs primary"},{default:r(()=>[(n(!0),d(D,null,j(f(h.all),a=>(n(),d("option",{key:a.displayName},b(a.displayName),1))),128))]),_:1},8,["modelValue"]),o.value?.length?(n(),c(L,{key:0,n:"sm lime"},{trigger:r(({click:a})=>[m(u,{icon:"carbon-settings","h-full":"",onClick:g=>a()},null,8,["onClick"]),o.value?(n(),d("span",H,b(o.value.length),1)):_("",!0)]),default:r(()=>[i("div",K,[(n(!0),d(D,null,j(o.value,(a,g)=>(n(),c(p,{key:a.name,modelValue:o.value[g].defaultValue,"onUpdate:modelValue":U=>o.value[g].defaultValue=U,flex:"~ gap-2",rounded:"",px2:"",py2:""},{default:r(()=>[i("span",M,b(a.description),1)]),_:2},1032,["modelValue","onUpdate:modelValue"]))),128))])]),_:1})):_("",!0),t[4]||(t[4]=i("div",{"flex-auto":""},null,-1)),m(u,{icon:"carbon-copy","mr-6":"","h-full":"",onClick:t[1]||(t[1]=a=>B())})]),f(y)?(n(),c(I,{key:0,lang:S.value,code:f(y)},null,8,["lang","code"])):_("",!0)]),_:1},8,["model-value"])])):_("",!0)}}});export{ie as default};
